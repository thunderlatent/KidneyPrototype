<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="color-scheme" content="light">
    <title>è…å¥½åº· - å¥åº·é£²é£Ÿåˆ†é¡éŠæˆ²</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/additional-styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            --ios-primary: #007AFF;
            --ios-success: #34C759;
            --ios-warning: #FF9500;
            --ios-danger: #FF3B30;
            --ios-gray1: #8E8E93;
            --ios-gray2: #AEAEB2;
            --ios-gray3: #C7C7CC;
            --ios-gray4: #D1D1D6;
            --ios-gray5: #E5E5EA;
            --ios-gray6: #F2F2F7;
            --ios-background: #F9F9F9;
            --ios-text-primary: #000000;
            --ios-text-secondary: #3C3C43;
            --ios-text-tertiary: #8E8E93;
        }

        /* éŠæˆ²å®¹å™¨æ¨£å¼ */
        .game-container {
            padding: 20px;
            max-width: 100%;
            overflow-x: hidden;
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        /* éŠæˆ²é ­éƒ¨ä¿¡æ¯ */
        .game-header {
            text-align: center;
            margin-bottom: 24px;
        }

        .game-title {
            font-size: 24px;
            font-weight: 700;
            color: var(--ios-text-primary);
            margin-bottom: 6px;
        }

        .game-subtitle {
            font-size: 16px;
            color: var(--ios-text-secondary);
            margin-bottom: 12px;
        }

        /* éŠæˆ²ä¿¡æ¯ */
        .game-info {
            display: flex;
            justify-content: space-around;
            margin-bottom: 20px;
            background-color: white;
            border-radius: 16px;
            padding: 15px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
        }

        .info-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 0 10px;
        }

        .info-label {
            font-size: 12px;
            color: var(--ios-text-tertiary);
            margin-bottom: 5px;
        }

        .info-value {
            font-size: 20px;
            font-weight: 700;
            color: var(--ios-text-primary);
        }

        /* é£Ÿç‰©å±•ç¤ºå€ */
        .food-display-container {
            background-color: white;
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
        }
        
        .food-question-number {
            font-size: 14px;
            color: var(--ios-text-tertiary);
            margin-bottom: 15px;
            text-align: center;
        }
        
        .food-display-card {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .food-image-large {
            width: 100%;
            height: 200px;
            border-radius: 12px;
            background-size: cover;
            background-position: center;
            margin-bottom: 15px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        .food-details-large {
            width: 100%;
            text-align: center;
        }
        
        .food-name-large {
            font-size: 24px;
            font-weight: 700;
            color: var(--ios-text-primary);
            margin-bottom: 8px;
        }
        
        .food-description-large {
            font-size: 16px;
            color: var(--ios-text-secondary);
            margin-bottom: 12px;
            display: none; /* åˆå§‹éš±è—é£Ÿç‰©æè¿° */
        }
        
        .food-nutrients {
            display: none; /* åˆå§‹éš±è—ç‡Ÿé¤Šæˆåˆ† */
            justify-content: center;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 15px;
        }
        
        .timer-bar-container {
            width: 100%;
            height: 8px;
            background-color: var(--ios-gray5);
            border-radius: 4px;
            margin-bottom: 20px;
            overflow: hidden;
        }
        
        .timer-bar {
            height: 100%;
            background-color: var(--ios-primary);
            width: 100%;
            border-radius: 4px;
            transition: width linear;
        }
        
        .answer-buttons {
            display: flex;
            justify-content: space-between;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        /* ç­”æ¡ˆæŒ‰éˆ•æ¨£å¼ - æ”¹ç”¨ä¸­æ€§é¡è‰²ï¼Œä¸å†ä½¿ç”¨ç´…ç¶ è¡¨ç¤ºé¸é …é¡å‹ */
        .answer-btn {
            position: relative;
            flex: 1;
            padding: 15px;
            border-radius: 16px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: transform 0.2s ease, background-color 0.2s ease;
            background-color: white;
            border: 2px solid var(--ios-gray4);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }
        
        .answer-btn:active {
            transform: scale(0.97);
        }
        
        /* æŒ‰éˆ•å…§å®¹æ¨£å¼ - ä½¿ç”¨æ·±æ·ºè—è‰²å€åˆ†å…©å€‹æŒ‰éˆ• */
        .answer-icon {
            width: 50px;
            height: 50px;
            border-radius: 25px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 10px;
            font-size: 24px;
        }
        
        .answer-btn.good .answer-icon {
            background-color: rgba(52, 120, 246, 0.15);
            color: #3478f6;
        }
        
        .answer-btn.bad .answer-icon {
            background-color: rgba(64, 156, 255, 0.15);
            color: #409cff;
        }
        
        .answer-text {
            font-size: 16px;
            font-weight: 600;
        }
        
        .answer-btn.good .answer-text {
            color: #3478f6;
        }
        
        .answer-btn.bad .answer-text {
            color: #409cff;
        }
        
        /* é¸æ“‡å¾Œçš„æŒ‰éˆ•ç‹€æ…‹ - ä½¿ç”¨æ˜ç¢ºçš„ç´…ç¶ è‰²å½©è¡¨ç¤ºç­”é¡Œç‹€æ…‹ */
        .answer-btn.selected.correct {
            background-color: rgba(52, 199, 89, 0.3);
            border: 2px solid var(--ios-success);
            box-shadow: 0 0 0 4px rgba(52, 199, 89, 0.25), 0 4px 12px rgba(0, 0, 0, 0.1);
            transform: scale(1.03);
        }
        
        .answer-btn.selected.incorrect {
            background-color: rgba(255, 59, 48, 0.3);
            border: 2px solid var(--ios-danger);
            box-shadow: 0 0 0 4px rgba(255, 59, 48, 0.25), 0 4px 12px rgba(0, 0, 0, 0.1);
            transform: scale(1.03);
        }
        
        /* ç­”æ¡ˆçµæœæ¨™è¨˜ - ä½¿ç”¨æ˜ç¢ºçš„ç´…ç¶ è‰²å½© */
        .answer-result-mark {
            position: absolute;
            top: -10px;
            right: -10px;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            font-weight: bold;
            opacity: 0;
            transform: scale(0.5);
            transition: opacity 0.3s ease, transform 0.3s ease;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
            z-index: 10;
        }
        
        .answer-btn.selected .answer-result-mark {
            opacity: 1;
            transform: scale(1);
        }
        
        .answer-btn.selected.correct .answer-result-mark {
            background-color: var(--ios-success);
            color: white;
        }
        
        .answer-btn.selected.incorrect .answer-result-mark {
            background-color: var(--ios-danger);
            color: white;
        }
        
        /* éé¸ä¸­æŒ‰éˆ•è®Šæš—ï¼Œçªé¡¯é¸ä¸­çš„æŒ‰éˆ• */
        .answer-btn.not-selected {
            opacity: 0.5;
            transform: scale(0.95);
        }
        
        .answer-feedback {
            background-color: var(--ios-gray6);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            display: none;
            margin-top: 15px;
            border: 1px solid var(--ios-gray4);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.12) !important;
            position: relative;
            z-index: 20 !important;
            overflow: visible !important;
            max-height: none !important;
            transition: opacity 0.3s ease, transform 0.3s ease !important;
            transform: translateY(0) !important;
            opacity: 1 !important;
        }
        
        /* å›é¥‹å¡ç‰‡æ¨£å¼èª¿æ•´ - ä½¿ç”¨æ›´é®®æ˜çš„ç´…ç¶ è‰²å½© */
        .answer-feedback.correct {
            background-color: rgba(52, 199, 89, 0.15);
            border-left: 8px solid var(--ios-success);
        }
        
        .answer-feedback.incorrect {
            background-color: rgba(255, 59, 48, 0.15);
            border-left: 8px solid var(--ios-danger);
        }
        
        .feedback-icon {
            width: 50px;
            height: 50px;
            border-radius: 25px;
            margin: 0 auto 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }
        
        /* å›é¥‹åœ–æ¨™æ¨£å¼èª¿æ•´ - ä½¿ç”¨ç´…ç¶ è‰²å½© */
        .answer-feedback.correct .feedback-icon {
            background-color: rgba(52, 199, 89, 0.2);
            color: var(--ios-success);
        }
        
        .answer-feedback.incorrect .feedback-icon {
            background-color: rgba(255, 59, 48, 0.2);
            color: var(--ios-danger);
        }
        
        .feedback-text {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 8px;
        }
        
        /* å›é¥‹æ–‡å­—æ¨£å¼èª¿æ•´ - ä½¿ç”¨ç´…ç¶ è‰²å½© */
        .answer-feedback.correct .feedback-text {
            color: var(--ios-success);
        }
        
        .answer-feedback.incorrect .feedback-text {
            color: var(--ios-danger);
        }
        
        .feedback-explanation {
            font-size: 14px;
            color: var(--ios-text-secondary);
            line-height: 1.5;
            margin-bottom: 12px;
            border-bottom: 1px solid rgba(0,0,0,0.05);
            padding-bottom: 12px;
        }
        
        .feedback-description-container,
        .feedback-nutrients-container {
            text-align: left !important;
            margin-top: 15px !important;
            margin-bottom: 15px !important;
            display: block !important;
            border-top: 1px solid rgba(0,0,0,0.05);
            padding-top: 12px;
            width: 100%;
        }
        
        .feedback-description-container h4,
        .feedback-nutrients-container h4 {
            font-size: 15px !important;
            font-weight: 600 !important;
            margin-bottom: 8px !important;
            color: var(--ios-text-primary) !important;
            display: block !important;
        }
        
        #feedbackDescription {
            font-size: 14px !important;
            color: var(--ios-text-secondary) !important;
            line-height: 1.5 !important;
            margin-bottom: 10px !important;
            display: block !important;
        }
        
        #feedbackNutrients {
            display: flex !important;
            flex-wrap: wrap !important;
            gap: 8px !important;
            margin-top: 10px !important;
        }
        
        .feedback-nutrient {
            background-color: rgba(0, 0, 0, 0.05) !important;
            padding: 6px 12px !important;
            border-radius: 12px !important;
            font-size: 13px !important;
            color: var(--ios-text-secondary) !important;
            display: inline-block !important;
            margin: 3px !important;
        }
        
        /* ä¸‹ä¸€é¡ŒæŒ‰éˆ•æ¨£å¼ */
        .next-btn {
            display: none; /* é è¨­éš±è—ï¼Œé€šéJSæ§åˆ¶é¡¯ç¤º */
            align-items: center;
            justify-content: center;
            gap: 8px;
            background-color: var(--ios-primary);
            color: white;
            padding: 14px 24px;
            border-radius: 12px;
            font-weight: 600;
            font-size: 16px;
            margin-top: 20px;
            border: none;
            width: 100%;
            cursor: pointer;
            transition: background-color 0.2s ease, transform 0.2s ease;
        }
        
        .next-btn:active {
            background-color: #0062cc;
            transform: scale(0.98);
        }

        /* çµæœå½ˆçª— */
        .result-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }

        .result-modal.active {
            opacity: 1;
            pointer-events: auto;
        }

        .result-content {
            background-color: white;
            border-radius: 20px;
            width: 85%;
            max-width: 350px;
            padding: 25px;
            text-align: center;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            transform: translateY(20px);
            transition: transform 0.3s ease;
        }

        .result-modal.active .result-content {
            transform: translateY(0);
        }

        .result-icon {
            width: 80px;
            height: 80px;
            border-radius: 40px;
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
        }

        .result-icon.success {
            background-color: rgba(0, 122, 255, 0.2);
            color: var(--ios-primary);
        }

        .result-icon.error {
            background-color: rgba(255, 204, 0, 0.2);
            color: var(--ios-warning);
        }

        .result-title {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 10px;
            color: var(--ios-text-primary);
        }

        .result-message {
            font-size: 16px;
            color: var(--ios-text-secondary);
            margin-bottom: 20px;
            line-height: 1.5;
        }

        .result-score {
            font-size: 36px;
            font-weight: 700;
            margin-bottom: 20px;
            color: var(--ios-primary);
        }

        .result-detail {
            background-color: var(--ios-gray6);
            padding: 15px;
            border-radius: 15px;
            margin-bottom: 20px;
            text-align: left;
        }

        .detail-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
        }

        .detail-label {
            font-size: 14px;
            color: var(--ios-text-secondary);
        }

        .detail-value {
            font-size: 14px;
            font-weight: 600;
            color: var(--ios-text-primary);
        }

        .detail-value.good {
            color: var(--ios-success);
        }

        .detail-value.bad {
            color: var(--ios-danger);
        }

        .result-buttons {
            display: flex;
            justify-content: space-between;
            gap: 15px;
        }

        .result-btn {
            flex: 1;
            padding: 12px;
            border-radius: 15px;
            font-weight: 600;
            font-size: 16px;
            text-align: center;
            cursor: pointer;
        }

        .result-btn.primary {
            background-color: var(--ios-primary);
            color: white;
        }

        .result-btn.secondary {
            background-color: var(--ios-gray6);
            color: var(--ios-text-primary);
        }

        /* é£Ÿç‰©æç¤ºå¡ç‰‡ */
        .tip-card {
            background-color: white;
            border-radius: 16px;
            padding: 20px;
            margin-top: 20px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
        }

        .tip-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }

        .tip-icon {
            width: 40px;
            height: 40px;
            border-radius: 20px;
            background-color: rgba(0, 122, 255, 0.1);
            color: var(--ios-primary);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }

        .tip-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--ios-text-primary);
        }

        .tip-content {
            font-size: 14px;
            color: var(--ios-text-secondary);
            line-height: 1.5;
        }

        .tip-content ul {
            padding-left: 20px;
            margin-top: 10px;
        }

        .tip-content li {
            margin-bottom: 8px;
        }

        /* å‹•ç•«æ•ˆæœ */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideIn {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .fade-in {
            animation: fadeIn 0.5s ease;
        }

        .slide-in {
            animation: slideIn 0.5s ease;
        }

        /* å»£å‘Šå®¹å™¨æ¨£å¼ */
        .ad-container {
            position: relative;
            background-color: white;
            border-radius: 16px;
            padding: 20px;
            margin-top: 20px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
            overflow: hidden;
        }
        
        /* å»£å‘Šæ¨™ç±¤ */
        .ad-label {
            position: absolute;
            top: 8px;
            right: 8px;
            background-color: rgba(142, 142, 147, 0.2);
            color: var(--ios-text-tertiary);
            font-size: 10px;
            padding: 2px 6px;
            border-radius: 4px;
            z-index: 2;
        }
        
        /* å»£å‘Šé ­éƒ¨æ¨£å¼ */
        .ad-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        /* å»£å‘Šåœ–æ¨™ */
        .ad-icon {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            background-color: rgba(88, 86, 214, 0.1);
            color: #5856D6;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }
        
        /* å»£å‘Šæ¨™é¡Œ */
        .ad-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--ios-text-primary);
        }
        
        /* å»£å‘Šå…§å®¹å€åŸŸ */
        .ad-body {
            display: flex;
            margin-bottom: 15px;
            gap: 15px;
        }
        
        /* å»£å‘Šåœ–ç‰‡ */
        .ad-image {
            flex: 0 0 100px;
            height: 100px;
            background-image: url('https://via.placeholder.com/100x100');
            background-size: cover;
            background-position: center;
            border-radius: 10px;
            background-color: #f0f0f0;
        }
        
        /* å»£å‘Šæ–‡å­— */
        .ad-text {
            flex: 1;
            font-size: 14px;
            color: var(--ios-text-secondary);
            line-height: 1.4;
        }
        
        /* å»£å‘Šç‰¹é» */
        .ad-features {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 10px;
        }
        
        .ad-features span {
            font-size: 12px;
            color: var(--ios-text-secondary);
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .ad-features i {
            color: var(--ios-success);
            font-size: 12px;
        }
        
        /* å»£å‘ŠæŒ‰éˆ• */
        .ad-button {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            background-color: #5856D6;
            color: white;
            padding: 12px 20px;
            border-radius: 12px;
            font-weight: 600;
            font-size: 16px;
            text-decoration: none;
            width: 100%;
            transition: background-color 0.2s ease, transform 0.2s ease;
        }
        
        .ad-button:active {
            background-color: #4b4ab8;
            transform: scale(0.98);
        }

        /* å»£å‘Šçå‹µæç¤ºæ¨£å¼ */
        .ad-reward-toast {
            position: fixed;
            bottom: 80px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background-color: rgba(88, 86, 214, 0.95);
            color: white;
            border-radius: 12px;
            padding: 15px;
            display: flex;
            align-items: center;
            gap: 15px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            opacity: 0;
            transition: transform 0.3s ease, opacity 0.3s ease;
        }
        
        .ad-reward-toast.show {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
        }
        
        .toast-icon {
            width: 40px;
            height: 40px;
            border-radius: 20px;
            background-color: rgba(255, 255, 255, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }
        
        .toast-content {
            flex: 1;
        }
        
        .toast-title {
            font-weight: 700;
            font-size: 16px;
            margin-bottom: 4px;
        }
        
        .toast-message {
            font-size: 14px;
            opacity: 0.9;
        }
        
        .ad-button.clicked {
            background-color: #4b4ab8;
            transform: scale(0.98);
        }

        /* éŠæˆ²èªªæ˜å½ˆçª—æ¨£å¼ */
        .instruction-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 1;
            transition: opacity 0.3s ease;
        }
        
        .instruction-content {
            background-color: white;
            border-radius: 20px;
            width: 85%;
            max-width: 350px;
            padding: 25px;
            text-align: center;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        }
        
        .instruction-icon {
            width: 60px;
            height: 60px;
            border-radius: 30px;
            margin: 0 auto 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 30px;
            background-color: rgba(0, 122, 255, 0.1);
            color: var(--ios-primary);
        }
        
        .instruction-title {
            font-size: 22px;
            font-weight: 700;
            margin-bottom: 15px;
            color: var(--ios-text-primary);
        }
        
        .instruction-text {
            font-size: 15px;
            color: var(--ios-text-secondary);
            margin-bottom: 20px;
            text-align: left;
            line-height: 1.5;
        }
        
        .instruction-text p {
            margin-bottom: 12px;
        }
        
        .instruction-steps {
            margin: 15px 0;
        }
        
        .step {
            display: flex;
            align-items: center;
            margin-bottom: 12px;
        }
        
        .step-number {
            width: 24px;
            height: 24px;
            border-radius: 12px;
            background-color: var(--ios-primary);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            margin-right: 12px;
            flex-shrink: 0;
        }
        
        .step-text {
            flex: 1;
        }
        
        .instruction-tip {
            background-color: rgba(255, 204, 0, 0.1);
            border-left: 3px solid #FFCC00;
            padding: 10px;
            display: flex;
            align-items: flex-start;
            gap: 10px;
            margin-top: 15px;
            border-radius: 0 6px 6px 0;
        }
        
        .instruction-tip i {
            color: #FFCC00;
            margin-top: 2px;
        }
        
        .instruction-btn {
            background-color: var(--ios-primary);
            color: white;
            padding: 14px 20px;
            border-radius: 15px;
            font-weight: 600;
            font-size: 16px;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }
        
        .instruction-btn:active {
            background-color: #0062cc;
        }

        /* åˆ†æ•¸å‹•ç•«æ•ˆæœ */
        .score-animation {
            position: fixed;
            top: 120px;
            left: 50%;
            transform: translate(-50%, -50%);
            color: var(--ios-primary);
            font-size: 32px;
            font-weight: 800;
            opacity: 0;
            animation: scorePopup 1.5s ease-out forwards;
            z-index: 100;
            text-shadow: 0 0 10px rgba(0, 122, 255, 0.5);
        }
        
        @keyframes scorePopup {
            0% {
                opacity: 0;
                transform: translate(-50%, 0);
                font-size: 24px;
            }
            20% {
                opacity: 1;
                transform: translate(-50%, -50px);
                font-size: 32px;
            }
            80% {
                opacity: 1;
                transform: translate(-50%, -80px);
            }
            100% {
                opacity: 0;
                transform: translate(-50%, -100px);
            }
        }
        
        /* ç­”æ¡ˆç‹€æ…‹æç¤ºæ¨™ç±¤ */
        .answer-status-label {
            position: absolute;
            top: -5px;
            left: 50%;
            transform: translateX(-50%);
            background-color: var(--ios-primary);
            color: white;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 14px;
            font-weight: 600;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
            opacity: 0;
            transform: translateX(-50%) translateY(-5px);
            transition: opacity 0.3s ease, transform 0.3s ease;
            z-index: 5;
            visibility: hidden; /* åˆå§‹éš±è— */
        }
        
        .answer-btn.selected .answer-status-label {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
            visibility: visible; /* ç¢ºä¿å¯è¦‹æ€§ */
            display: block; /* ç¢ºä¿é¡¯ç¤º */
        }
        
        .answer-btn.selected.correct .answer-status-label {
            background-color: var(--ios-success);
        }
        
        .answer-btn.selected.incorrect .answer-status-label {
            background-color: var(--ios-danger);
        }

        .feedback-nutrients-container {
            text-align: left;
            margin-top: 10px;
            margin-bottom: 15px;
            display: block !important; /* å¼·åˆ¶é¡¯ç¤º */
        }

        .feedback-nutrient {
            background-color: rgba(0, 0, 0, 0.05);
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 12px;
            color: var(--ios-text-secondary);
            display: inline-block; /* ç¢ºä¿æ¯å€‹ç‡Ÿé¤Šç´ æ­£ç¢ºé¡¯ç¤º */
            margin: 3px; /* å¢åŠ é–“è· */
        }

        #feedbackNutrients {
            display: flex; /* ä½¿ç”¨å½ˆæ€§å¸ƒå±€ */
            flex-wrap: wrap; /* å…è¨±æ›è¡Œ */
            gap: 8px; /* å¢åŠ é–“è· */
            margin-top: 10px; /* å¢åŠ ä¸Šé‚Šè· */
        }
    </style>
</head>
<body>
    <div class="iphone-container">
        <!-- ç‹€æ…‹æ¬„ -->
        <div class="status-bar">
            <div class="status-time" id="statusTime">9:41</div>
            <div class="status-icons">
                <div class="status-icon">ğŸ“¶</div>
                <div class="status-icon">ğŸ“Š</div>
                <div class="status-icon">ğŸ”‹</div>
            </div>
        </div>
        
        <!-- å°èˆªæ¬„ -->
        <div class="nav-bar">
            <div class="nav-back" onclick="history.back()">
                <i class="fas fa-chevron-left"></i>
            </div>
            <div class="nav-title">å¥åº·é£²é£Ÿåˆ†é¡</div>
            <div class="nav-action"></div>
        </div>
        
        <!-- å…§å®¹å€åŸŸ -->
        <div class="content-container" style="padding-bottom: 80px; overflow-y: auto; overflow-x: hidden;">
            <div class="game-container">
                <!-- éŠæˆ²é ­éƒ¨ -->
                <div class="game-header">
                    <div class="game-title">è…è‡Ÿå‹å–„é£Ÿç‰©åˆ†é¡</div>
                    <div class="game-subtitle">äº†è§£å“ªäº›é£Ÿç‰©é©åˆè…è‡Ÿç—…æ‚£è€…é£Ÿç”¨</div>
                </div>
                
                <!-- éŠæˆ²ä¿¡æ¯ -->
                <div class="game-info">
                    <div class="info-item">
                        <div class="info-label">å¾—åˆ†</div>
                        <div class="info-value" id="score">0</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">é€²åº¦</div>
                        <div class="info-value"><span id="currentQuestion">1</span>/<span id="totalQuestions">10</span></div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">æ™‚é–“</div>
                        <div class="info-value" id="timer">15</div>
                    </div>
                </div>
                
                <!-- é£Ÿç‰©å±•ç¤ºå€ -->
                <div class="food-display-container">
                    <div class="food-question-number">å•é¡Œ <span id="questionNumber">1</span>/10</div>
                    <div class="food-display-card" id="currentFoodCard">
                        <div class="food-image-large" id="foodImage"></div>
                        <div class="food-details-large">
                            <div class="food-name-large" id="foodName">è˜‹æœ</div>
                            <div class="food-description-large" id="foodDescription">æ–°é®®æ°´æœï¼Œå¯Œå«ç¶­ç”Ÿç´ </div>
                            <div class="food-nutrients" id="foodNutrients">
                                <span class="food-nutrient">é‰€: ä¸­</span>
                                <span class="food-nutrient">ç£·: ä½</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- å€’æ•¸è¨ˆæ™‚æ¢ -->
                    <div class="timer-bar-container">
                        <div class="timer-bar" id="timerBar"></div>
                    </div>
                    
                    <!-- ç­”æ¡ˆé¸æ“‡æŒ‰éˆ• -->
                    <div class="answer-buttons">
                        <div class="answer-btn good" id="goodBtn">
                            <div class="answer-status-label">æ­£ç¢ºç­”æ¡ˆ</div>
                            <div class="answer-icon">
                                <i class="fas fa-utensils"></i>
                            </div>
                            <div class="answer-text">é©åˆé£Ÿç”¨</div>
                            <div class="answer-result-mark"><i class="fas fa-check"></i></div>
                        </div>
                        <div class="answer-btn bad" id="badBtn">
                            <div class="answer-status-label">æ­£ç¢ºç­”æ¡ˆ</div>
                            <div class="answer-icon">
                                <i class="fas fa-ban"></i>
                            </div>
                            <div class="answer-text">éœ€è¦é™åˆ¶</div>
                            <div class="answer-result-mark"><i class="fas fa-times"></i></div>
                        </div>
                    </div>
                    
                    <!-- ç­”æ¡ˆå›é¥‹ -->
                    <div class="answer-feedback" id="answerFeedback">
                        <div class="feedback-icon" id="feedbackIcon">
                            <i class="fas fa-check"></i>
                        </div>
                        <div class="feedback-text" id="feedbackText">æ­£ç¢ºï¼</div>
                        <div class="feedback-explanation" id="feedbackExplanation">
                            è˜‹æœçš„é‰€å«é‡ç‚ºä¸­ç­‰ï¼Œç£·å«é‡ä½ï¼Œé©åˆè…è‡Ÿç—…æ‚£è€…é©é‡é£Ÿç”¨ã€‚
                        </div>
                        <div class="feedback-description-container">
                            <h4>é£Ÿç‰©æè¿°ï¼š</h4>
                            <div id="feedbackDescription">æ–°é®®æ°´æœï¼Œå¯Œå«ç¶­ç”Ÿç´ </div>
                        </div>
                        <div class="feedback-nutrients-container">
                            <h4>ç‡Ÿé¤Šæˆåˆ†ï¼š</h4>
                            <div id="feedbackNutrients"></div>
                        </div>
                        <button class="next-btn" id="nextQuestionBtn">
                            <span>ä¸‹ä¸€é¡Œ</span>
                            <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </div>
                
                <!-- å»£å‘Šå€å¡Š -->
                <div class="ad-container">
                    <div class="ad-label">å»£å‘Š</div>
                    <div class="ad-content">
                        <div class="ad-header">
                            <div class="ad-icon">
                                <i class="fas fa-capsules"></i>
                            </div>
                            <div class="ad-title">è…åº·å¯§ - å¤©ç„¶è‰æœ¬è…è‡Ÿä¿å¥å“</div>
                        </div>
                        <div class="ad-body">
                            <div class="ad-image"></div>
                            <div class="ad-text">
                                <p>å°ˆç‚ºè…è‡Ÿç—…æ‚£è€…è¨­è¨ˆçš„å…¨å¤©ç„¶è‰æœ¬é…æ–¹ï¼Œå¹«åŠ©ç¶­æŒè…åŠŸèƒ½å¥åº·ã€‚</p>
                                <div class="ad-features">
                                    <span><i class="fas fa-check"></i> ä½ç£·ä½é‰€</span>
                                    <span><i class="fas fa-check"></i> è‡¨åºŠå¯¦è­‰</span>
                                    <span><i class="fas fa-check"></i> é†«å¸«æ¨è–¦</span>
                                </div>
                            </div>
                        </div>
                        <a href="#" class="ad-button" id="adButton">
                            <span>äº†è§£æ›´å¤š</span>
                            <i class="fas fa-chevron-right"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- çµæœå½ˆçª— -->
        <div class="result-modal" id="resultModal">
            <div class="result-content">
                <div class="result-icon success" id="resultIcon">
                    <i class="fas fa-trophy"></i>
                </div>
                <div class="result-title" id="resultTitle">åšå¾—å¥½ï¼</div>
                <div class="result-score" id="resultScore">85</div>
                <div class="result-message" id="resultMessage">æ‚¨å¾ˆäº†è§£è…è‡Ÿå‹å–„é£Ÿç‰©ï¼</div>
                <div class="result-detail">
                    <div class="detail-item">
                        <div class="detail-label">æ­£ç¢ºåˆ†é¡</div>
                        <div class="detail-value good" id="correctCount">8/10</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">ç”¨æ™‚</div>
                        <div class="detail-value" id="usedTime">01:25</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">ç²å¾—ç©åˆ†</div>
                        <div class="detail-value" id="earnedPoints">+150</div>
                    </div>
                </div>
                <div class="result-buttons">
                    <div class="result-btn secondary" id="backBtn">è¿”å›</div>
                    <div class="result-btn primary" id="nextBtn">ä¸‹ä¸€é—œ</div>
                </div>
            </div>
        </div>
        
        <!-- åº•éƒ¨æ¨™ç±¤æ¬„ -->
        <div class="tab-bar">
            <a href="main.html" class="tab-item">
                <i class="fas fa-home"></i>
                <span>é¦–é </span>
            </a>
            <a href="game-mode.html" class="tab-item active">
                <i class="fas fa-gamepad"></i>
                <span>éŠæˆ²</span>
            </a>
            <a href="learning-resources.html" class="tab-item">
                <i class="fas fa-book-open"></i>
                <span>è³‡æ–™åº«</span>
            </a>
            <a href="#" class="tab-item">
                <i class="fas fa-trophy"></i>
                <span>æˆå°±</span>
            </a>
        </div>
    </div>

    <!-- éŠæˆ²èªªæ˜å½ˆçª— -->
    <div class="instruction-modal" id="instructionModal">
        <div class="instruction-content">
            <div class="instruction-icon">
                <i class="fas fa-info-circle"></i>
            </div>
            <div class="instruction-title">éŠæˆ²èªªæ˜</div>
            <div class="instruction-text">
                <p>æ­¡è¿ä¾†åˆ°ã€Œè…è‡Ÿå‹å–„é£Ÿç‰©åˆ†é¡ã€éŠæˆ²ï¼</p>
                <p>åœ¨é€™å€‹éŠæˆ²ä¸­ï¼Œæ‚¨å°‡çœ‹åˆ°ä¸åŒçš„é£Ÿç‰©ï¼Œéœ€è¦åˆ¤æ–·å“ªäº›é£Ÿç‰©é©åˆè…è‡Ÿç—…æ‚£è€…é£Ÿç”¨ï¼Œå“ªäº›éœ€è¦é™åˆ¶ã€‚</p>
                
                <div class="instruction-steps">
                    <div class="step">
                        <div class="step-number">1</div>
                        <div class="step-text">è§€å¯Ÿé¡¯ç¤ºçš„é£Ÿç‰©åœ–ç‰‡å’Œåç¨±</div>
                    </div>
                    <div class="step">
                        <div class="step-number">2</div>
                        <div class="step-text">åœ¨æ™‚é–“å€’æ•¸çµæŸå‰ï¼Œé¸æ“‡ã€Œé©åˆé£Ÿç”¨ã€æˆ–ã€Œéœ€è¦é™åˆ¶ã€</div>
                    </div>
                    <div class="step">
                        <div class="step-number">3</div>
                        <div class="step-text">å›ç­”å¾Œæœƒé¡¯ç¤ºæ­£ç¢ºç­”æ¡ˆå’Œç‡Ÿé¤Šæˆåˆ†èªªæ˜</div>
                    </div>
                    <div class="step">
                        <div class="step-number">4</div>
                        <div class="step-text">ç­”å°ç²å¾—ç©åˆ†ï¼Œå›ç­”é€Ÿåº¦è¶Šå¿«åˆ†æ•¸è¶Šé«˜</div>
                    </div>
                </div>
                
                <div class="instruction-tip">
                    <i class="fas fa-lightbulb"></i>
                    <span>æç¤ºï¼šæ³¨æ„é£Ÿç‰©çš„é‰€ã€ç£·ã€éˆ‰å«é‡ï¼Œé€™äº›æ˜¯è…è‡Ÿç—…æ‚£è€…éœ€è¦æ§åˆ¶çš„ä¸»è¦ç‡Ÿé¤Šç´ ã€‚</span>
                </div>
            </div>
            <div class="instruction-btn" id="startGameBtn">é–‹å§‹éŠæˆ²</div>
        </div>
    </div>
</body>

<script>
    // å¸¸é‡
    const MAX_TIME = 15; // æ¯å€‹å•é¡Œçš„æœ€å¤§æ™‚é–“ï¼ˆç§’ï¼‰

    // é£Ÿç‰©æ•¸æ“šåº«
    const foodDatabase = [
        {
            id: "food1",
            name: "è˜‹æœ",
            description: "æ–°é®®æ°´æœï¼Œå¯Œå«ç¶­ç”Ÿç´ ",
            nutrients: { "é‰€": "ä¸­", "ç£·": "ä½" },
            image: "images/food/apple.jpg",
            category: "good", // é©åˆé£Ÿç”¨
            explanation: "è˜‹æœçš„é‰€å«é‡ç‚ºä¸­ç­‰ï¼Œç£·å«é‡ä½ï¼Œé©åˆè…è‡Ÿç—…æ‚£è€…é©é‡é£Ÿç”¨ã€‚"
        },
        {
            id: "food2",
            name: "ç™½ç±³é£¯",
            description: "ä¸»é£Ÿï¼Œç†±é‡ä¾†æº",
            nutrients: { "é‰€": "ä½", "ç£·": "ä¸­" },
            image: "images/food/rice.jpg",
            category: "good", // é©åˆé£Ÿç”¨
            explanation: "ç™½ç±³é£¯çš„é‰€å«é‡ä½ï¼Œæ˜¯é©åˆè…è‡Ÿç—…æ‚£è€…çš„ä¸»é£Ÿé¸æ“‡ã€‚"
        },
        {
            id: "food3",
            name: "é¦™è•‰",
            description: "æ°´æœï¼Œå¯Œå«é‰€",
            nutrients: { "é‰€": "é«˜", "ç£·": "ä¸­" },
            image: "images/food/banana.jpg",
            category: "bad", // éœ€è¦é™åˆ¶
            explanation: "é¦™è•‰å¯Œå«é‰€ï¼Œè…è‡Ÿç—…æ‚£è€…æ‡‰é™åˆ¶é£Ÿç”¨ï¼Œé¿å…è¡€é‰€å‡é«˜ã€‚"
        },
        {
            id: "food4",
            name: "è èœ",
            description: "ç¶ è‘‰è”¬èœï¼Œå¯Œå«éµè³ª",
            nutrients: { "é‰€": "é«˜", "ç£·": "é«˜", "éˆ‰": "ä½" },
            image: "images/food/spinach.jpg",
            category: "bad", // éœ€è¦é™åˆ¶
            explanation: "è èœçš„é‰€å’Œç£·å«é‡éƒ½é«˜ï¼Œè…è‡Ÿç—…æ‚£è€…æ‡‰é™åˆ¶é£Ÿç”¨ã€‚"
        },
        {
            id: "food5",
            name: "ç™½éºµåŒ…",
            description: "éº¥è£½å“ï¼Œçƒ˜ç„™é£Ÿå“",
            nutrients: { "é‰€": "ä½", "ç£·": "ä½", "éˆ‰": "ä¸­" },
            image: "images/food/bread.jpg",
            category: "good", // é©åˆé£Ÿç”¨
            explanation: "ç™½éºµåŒ…çš„é‰€å’Œç£·å«é‡éƒ½ä½ï¼Œæ˜¯è…è‡Ÿç—…æ‚£è€…çš„è‰¯å¥½é¸æ“‡ã€‚"
        },
        {
            id: "food6",
            name: "å·§å…‹åŠ›",
            description: "ç”œé»ï¼Œå«å¯å¯æˆåˆ†",
            nutrients: { "é‰€": "é«˜", "ç£·": "é«˜" },
            image: "images/food/chocolate.jpg",
            category: "bad", // éœ€è¦é™åˆ¶
            explanation: "å·§å…‹åŠ›ä¸­çš„é‰€å’Œç£·å«é‡éƒ½å¾ˆé«˜ï¼Œè…è‡Ÿç—…æ‚£è€…æ‡‰é¿å…é£Ÿç”¨ã€‚"
        },
        {
            id: "food7",
            name: "ç™½è˜¿è””",
            description: "æ ¹è–é¡è”¬èœ",
            nutrients: { "é‰€": "ä½", "ç£·": "ä½", "éˆ‰": "ä½" },
            image: "images/food/radish.jpg",
            category: "good", // é©åˆé£Ÿç”¨
            explanation: "ç™½è˜¿è””çš„é‰€ã€ç£·å’Œéˆ‰å«é‡éƒ½ä½ï¼Œæ˜¯è…è‡Ÿç—…æ‚£è€…çš„ç†æƒ³è”¬èœé¸æ“‡ã€‚"
        },
        {
            id: "food8",
            name: "èµ·å¸",
            description: "ä¹³è£½å“ï¼Œå«éˆ£è³ª",
            nutrients: { "é‰€": "ä½", "ç£·": "é«˜", "éˆ‰": "é«˜" },
            image: "images/food/cheese.jpg",
            category: "bad", // éœ€è¦é™åˆ¶
            explanation: "èµ·å¸çš„ç£·å’Œéˆ‰å«é‡éƒ½é«˜ï¼Œè…è‡Ÿç—…æ‚£è€…æ‡‰é™åˆ¶é£Ÿç”¨ã€‚"
        },
        {
            id: "food9",
            name: "è‰è“",
            description: "æ¼¿æœé¡æ°´æœ",
            nutrients: { "é‰€": "ä¸­", "ç£·": "ä½", "éˆ‰": "ä½" },
            image: "images/food/strawberry.jpg",
            category: "good", // é©åˆé£Ÿç”¨
            explanation: "è‰è“çš„ç£·å’Œéˆ‰å«é‡ä½ï¼Œé‰€å«é‡ç‚ºä¸­ç­‰ï¼Œé©åˆè…è‡Ÿç—…æ‚£è€…é©é‡é£Ÿç”¨ã€‚"
        },
        {
            id: "food10",
            name: "åŠ å·¥è‚‰é¡",
            description: "ç«è…¿ã€è‡˜è…¸ç­‰",
            nutrients: { "é‰€": "ä¸­", "ç£·": "é«˜", "éˆ‰": "é«˜" },
            image: "images/food/processed-meat.jpg",
            category: "bad", // éœ€è¦é™åˆ¶
            explanation: "åŠ å·¥è‚‰é¡çš„ç£·å’Œéˆ‰å«é‡éƒ½é«˜ï¼Œè…è‡Ÿç—…æ‚£è€…æ‡‰é™åˆ¶é£Ÿç”¨ã€‚"
        }
    ];

    // éŠæˆ²ç‹€æ…‹
    let gameState = {
        score: 0,
        currentQuestionIndex: 0,
        questions: [],
        timeLeft: MAX_TIME, // ä½¿ç”¨MAX_TIMEå¸¸é‡
        timerInterval: null,
        questionTimer: null,
        gameActive: true,
        answers: [],
        totalQuestions: 10
    };

    // DOM å…ƒç´ 
    const scoreElement = document.getElementById('score');
    const currentQuestionElement = document.getElementById('currentQuestion');
    const totalQuestionsElement = document.getElementById('totalQuestions');
    const timerElement = document.getElementById('timer');
    const questionNumberElement = document.getElementById('questionNumber');
    const foodImageElement = document.getElementById('foodImage');
    const foodNameElement = document.getElementById('foodName');
    const foodDescriptionElement = document.getElementById('foodDescription');
    const foodNutrientsElement = document.getElementById('foodNutrients');
    const timerBarElement = document.getElementById('timerBar');
    const goodBtnElement = document.getElementById('goodBtn');
    const badBtnElement = document.getElementById('badBtn');
    const answerFeedbackElement = document.getElementById('answerFeedback');
    const feedbackIconElement = document.getElementById('feedbackIcon');
    const feedbackTextElement = document.getElementById('feedbackText');
    const feedbackExplanationElement = document.getElementById('feedbackExplanation');
    const feedbackNutrientsElement = document.getElementById('feedbackNutrients');
    const feedbackDescriptionElement = document.getElementById('feedbackDescription');
    const resultModal = document.getElementById('resultModal');
    const resultIcon = document.getElementById('resultIcon');
    const resultTitle = document.getElementById('resultTitle');
    const resultScore = document.getElementById('resultScore');
    const resultMessage = document.getElementById('resultMessage');
    const correctCountElement = document.getElementById('correctCount');
    const usedTimeElement = document.getElementById('usedTime');
    const earnedPointsElement = document.getElementById('earnedPoints');
    const backBtn = document.getElementById('backBtn');
    const nextBtn = document.getElementById('nextBtn');
    const statusTimeElement = document.getElementById('statusTime');
    const nextQuestionBtn = document.getElementById('nextQuestionBtn');

    // åˆå§‹åŒ–éŠæˆ²
    function initGame() {
        // éš±è—çµæœå½ˆçª—
        resultModal.classList.remove('active');
        
        // éš±è—å›é¥‹
        answerFeedbackElement.style.display = 'none';
        
        // éš±è—ä¸‹ä¸€é¡ŒæŒ‰éˆ•
        nextQuestionBtn.style.display = 'none';
        
        // é‡ç½®éŠæˆ²ç‹€æ…‹
        gameState = {
            gameActive: true,
            questions: shuffleArray(foodDatabase).slice(0, 10), // éš¨æ©Ÿé¸10é¡Œ
            currentQuestionIndex: 0,
            timeLeft: MAX_TIME,
            score: 0,
            timerInterval: null,
            answers: []
        };
        
        // é¡¯ç¤ºç¬¬ä¸€é¡Œ
        displayQuestion();
        
        // å•Ÿç”¨æŒ‰éˆ•
        enableAnswerButtons();
        
        // é‡ç½®åˆ†æ•¸é¡¯ç¤º
        scoreElement.textContent = '0';
    }

    // é¡¯ç¤ºç•¶å‰å•é¡Œ
    function displayQuestion() {
        if (gameState.currentQuestionIndex >= gameState.questions.length) {
            endGame();
            return;
        }
        
        // æ¸…é™¤æŒ‰éˆ•æ¨£å¼
        goodBtnElement.classList.remove('selected', 'correct', 'incorrect');
        badBtnElement.classList.remove('selected', 'correct', 'incorrect');
        
        const currentQuestion = gameState.questions[gameState.currentQuestionIndex];
        
        // æ›´æ–°å•é¡Œç·¨è™Ÿ
        questionNumberElement.textContent = gameState.currentQuestionIndex + 1;
        currentQuestionElement.textContent = gameState.currentQuestionIndex + 1;
        
        // æ›´æ–°é£Ÿç‰©ä¿¡æ¯ - åªé¡¯ç¤ºåç¨±å’Œåœ–ç‰‡ï¼Œä¸é¡¯ç¤ºæè¿°å’Œç‡Ÿé¤Šæˆåˆ†
        // æª¢æŸ¥åœ–ç‰‡æ˜¯å¦ç‚ºé¡è‰²ä»£ç¢¼
        if (currentQuestion.image.startsWith('#')) {
            foodImageElement.style.backgroundImage = 'none';
            foodImageElement.style.backgroundColor = currentQuestion.image;
        } else {
            foodImageElement.style.backgroundImage = `url('${currentQuestion.image}')`;
            foodImageElement.style.backgroundColor = 'transparent';
        }
        
        foodNameElement.textContent = currentQuestion.name;
        
        // éš±è—æè¿°å’Œç‡Ÿé¤Šæˆåˆ†
        foodDescriptionElement.style.display = 'none';
        foodNutrientsElement.style.display = 'none';
        
        // é‡ç½®è¨ˆæ™‚å™¨
        resetTimer();
        
        // éš±è—å›é¥‹å…ƒç´ 
        answerFeedbackElement.style.display = 'none';
        
        // å•Ÿç”¨æŒ‰éˆ•
        enableAnswerButtons();
    }

    // é‡ç½®å•é¡Œè¨ˆæ™‚å™¨
    function resetTimer() {
        // æ¸…é™¤ç¾æœ‰è¨ˆæ™‚å™¨
        clearInterval(gameState.timerInterval);
        
        // é‡ç½®æ™‚é–“
        gameState.timeLeft = MAX_TIME;
        timerElement.textContent = gameState.timeLeft;
        timerElement.style.color = 'var(--ios-text-primary)';
        
        // é‡ç½®è¨ˆæ™‚æ¢
        timerBarElement.style.width = '100%';
        
        // å•Ÿå‹•æ–°è¨ˆæ™‚å™¨
        gameState.timerInterval = setInterval(() => {
            gameState.timeLeft--;
            timerElement.textContent = gameState.timeLeft;
            
            // æ›´æ–°è¨ˆæ™‚æ¢
            const percentage = (gameState.timeLeft / MAX_TIME) * 100;
            timerBarElement.style.width = `${percentage}%`;
            
            // å‰©é¤˜æ™‚é–“å°‘æ–¼5ç§’æ™‚ï¼Œä½¿è¨ˆæ™‚å™¨è®Šç´…
            if (gameState.timeLeft <= 5) {
                timerElement.style.color = 'var(--ios-danger)';
                timerBarElement.style.backgroundColor = 'var(--ios-danger)';
            }
            
            // æ™‚é–“åˆ°
            if (gameState.timeLeft <= 0) {
                clearInterval(gameState.timerInterval);
                handleTimeout();
            }
        }, 1000);
    }

    // è™•ç†æ™‚é–“åˆ°çš„æƒ…æ³
    function handleTimeout() {
        // ç¦ç”¨æŒ‰éˆ•
        disableAnswerButtons();
        
        // è¨˜éŒ„ç­”æ¡ˆï¼ˆè¦–ç‚ºéŒ¯èª¤ï¼‰
        const currentQuestion = gameState.questions[gameState.currentQuestionIndex];
        gameState.answers.push({
            question: currentQuestion,
            userAnswer: 'timeout',
            isCorrect: false
        });
        
        // æ·»åŠ è¦–è¦ºåé¥‹ - æ ¹æ“šæ­£ç¢ºç­”æ¡ˆé«˜äº®å°æ‡‰æŒ‰éˆ•
        if (currentQuestion.category === 'good') {
            goodBtnElement.classList.add('selected', 'correct');
            badBtnElement.classList.add('not-selected');
            // æ›´æ–°ç‹€æ…‹æ¨™ç±¤
            const statusLabel = goodBtnElement.querySelector('.answer-status-label');
            statusLabel.textContent = 'æ­£ç¢ºç­”æ¡ˆ';
            statusLabel.style.visibility = 'visible';
            statusLabel.style.opacity = '1';
        } else {
            badBtnElement.classList.add('selected', 'correct');
            goodBtnElement.classList.add('not-selected');
            // æ›´æ–°ç‹€æ…‹æ¨™ç±¤
            const statusLabel = badBtnElement.querySelector('.answer-status-label');
            statusLabel.textContent = 'æ­£ç¢ºç­”æ¡ˆ';
            statusLabel.style.visibility = 'visible';
            statusLabel.style.opacity = '1';
        }
        
        // æ’­æ”¾åé¥‹éŸ³æ•ˆ
        playFeedbackSound('timeout');
        
        // é¡¯ç¤ºæ­£ç¢ºç­”æ¡ˆ
        showCorrectAnswer();
        
        // ç¢ºä¿ä¸‹ä¸€é¡ŒæŒ‰éˆ•é¡¯ç¤ºä¸¦å¯é»æ“Š
        nextQuestionBtn.style.display = 'flex';
        nextQuestionBtn.style.pointerEvents = 'auto';
        nextQuestionBtn.style.opacity = '1';
    }

    // è™•ç†ç”¨æˆ¶ç­”æ¡ˆ
    function handleAnswer(answer) {
        // ç¦ç”¨æŒ‰éˆ•
        disableAnswerButtons();
        
        // æ¸…é™¤è¨ˆæ™‚å™¨
        clearInterval(gameState.timerInterval);
        
        // æª¢æŸ¥ç­”æ¡ˆæ˜¯å¦æ­£ç¢º
        const currentQuestion = gameState.questions[gameState.currentQuestionIndex];
        const isCorrect = answer === currentQuestion.category;
        
        // æ·»åŠ è¦–è¦ºå›é¥‹åˆ°æŒ‰éˆ•
        if (answer === 'good') {
            goodBtnElement.classList.add('selected');
            goodBtnElement.classList.add(isCorrect ? 'correct' : 'incorrect');
            badBtnElement.classList.add('not-selected');
            
            // æ›´æ–°ç‹€æ…‹æ¨™ç±¤
            const statusLabel = goodBtnElement.querySelector('.answer-status-label');
            statusLabel.textContent = isCorrect ? 'ç­”å°äº†ï¼' : 'ç­”éŒ¯äº†ï¼';
            statusLabel.style.visibility = 'visible';
            statusLabel.style.opacity = '1';
        } else {
            badBtnElement.classList.add('selected');
            badBtnElement.classList.add(isCorrect ? 'correct' : 'incorrect');
            goodBtnElement.classList.add('not-selected');
            
            // æ›´æ–°ç‹€æ…‹æ¨™ç±¤
            const statusLabel = badBtnElement.querySelector('.answer-status-label');
            statusLabel.textContent = isCorrect ? 'ç­”å°äº†ï¼' : 'ç­”éŒ¯äº†ï¼';
            statusLabel.style.visibility = 'visible';
            statusLabel.style.opacity = '1';
        }
        
        // å¦‚æœç­”éŒ¯äº†ï¼Œé¡¯ç¤ºæ­£ç¢ºç­”æ¡ˆ
        if (!isCorrect) {
            if (currentQuestion.category === 'good') {
                goodBtnElement.classList.add('correct');
                const statusLabel = goodBtnElement.querySelector('.answer-status-label');
                statusLabel.textContent = 'æ­£ç¢ºç­”æ¡ˆ';
                statusLabel.style.visibility = 'visible';
                statusLabel.style.opacity = '1';
            } else {
                badBtnElement.classList.add('correct');
                const statusLabel = badBtnElement.querySelector('.answer-status-label');
                statusLabel.textContent = 'æ­£ç¢ºç­”æ¡ˆ';
                statusLabel.style.visibility = 'visible';
                statusLabel.style.opacity = '1';
            }
        }
        
        // æ’­æ”¾åé¥‹éŸ³æ•ˆ
        if (isCorrect) {
            playFeedbackSound('correct');
        } else {
            playFeedbackSound('incorrect');
        }
        
        // è¨˜éŒ„ç­”æ¡ˆ
        gameState.answers.push({
            question: currentQuestion,
            userAnswer: answer,
            isCorrect: isCorrect
        });
        
        // æ›´æ–°åˆ†æ•¸
        if (isCorrect) {
            gameState.score += 10;
            // æ·»åŠ æ™‚é–“çå‹µ
            gameState.score += Math.round(gameState.timeLeft / 3);
            scoreElement.textContent = gameState.score;
            
            // æ·»åŠ åˆ†æ•¸å‹•ç•«
            showScoreAnimation(10 + Math.round(gameState.timeLeft / 3));
        }
        
        // é¡¯ç¤ºå›é¥‹
        showFeedback(isCorrect);
        
        // ç¢ºä¿ä¸‹ä¸€é¡ŒæŒ‰éˆ•é¡¯ç¤ºä¸¦å¯é»æ“Š
        nextQuestionBtn.style.display = 'flex';
        nextQuestionBtn.style.pointerEvents = 'auto';
        nextQuestionBtn.style.opacity = '1';
    }

    // é¡¯ç¤ºå›é¥‹
    function showFeedback(isCorrect) {
        const currentQuestion = gameState.questions[gameState.currentQuestionIndex];
        
        // è¨­ç½®å›é¥‹æ¨£å¼
        answerFeedbackElement.className = isCorrect ? 
            'answer-feedback correct' : 
            'answer-feedback incorrect';
        
        // è¨­ç½®å›é¥‹åœ–æ¨™
        feedbackIconElement.innerHTML = isCorrect ? 
            '<i class="fas fa-check"></i>' : 
            '<i class="fas fa-times"></i>';
        
        // è¨­ç½®å›é¥‹æ–‡æœ¬
        feedbackTextElement.textContent = isCorrect ? 'ç­”å°äº†ï¼' : 'ç­”éŒ¯äº†ï¼';
        
        // è¨­ç½®è§£é‡‹
        feedbackExplanationElement.textContent = currentQuestion.explanation;
        
        // æ·»åŠ æè¿°å’Œç‡Ÿé¤Šæˆåˆ†åˆ°å›é¥‹ä¸­
        feedbackDescriptionElement.textContent = currentQuestion.description;
        
        // ä½¿ç”¨ç›´æ¥HTMLè¨­ç½®ç‡Ÿé¤Šæˆåˆ†ï¼Œç¢ºä¿é¡¯ç¤º
        let nutrientsHTML = '';
        Object.entries(currentQuestion.nutrients).forEach(([nutrient, level]) => {
            nutrientsHTML += `<span class="feedback-nutrient">${nutrient}: ${level}</span>`;
        });
        feedbackNutrientsElement.innerHTML = nutrientsHTML;
        
        // ç¢ºä¿å›é¥‹å…ƒç´ é¡¯ç¤º
        answerFeedbackElement.style.display = 'block';
        answerFeedbackElement.style.opacity = '1';
        answerFeedbackElement.style.visibility = 'visible';
        
        // ç¢ºä¿ä¸‹ä¸€é¡ŒæŒ‰éˆ•é¡¯ç¤º
        nextQuestionBtn.style.display = 'flex';
    }

    // é¡¯ç¤ºæ­£ç¢ºç­”æ¡ˆ
    function showCorrectAnswer() {
        const currentQuestion = gameState.questions[gameState.currentQuestionIndex];
        
        // è¨­ç½®å›é¥‹æ¨£å¼ - ä½¿ç”¨ç´…è‰²è­¦å‘Šæ¨£å¼
        answerFeedbackElement.className = 'answer-feedback incorrect';
        
        // è¨­ç½®å›é¥‹åœ–æ¨™
        feedbackIconElement.innerHTML = '<i class="fas fa-clock"></i>';
        
        // è¨­ç½®å›é¥‹æ–‡æœ¬
        feedbackTextElement.textContent = 'æ™‚é–“åˆ°ï¼';
        
        // è¨­ç½®è§£é‡‹
        feedbackExplanationElement.textContent = `æ­£ç¢ºç­”æ¡ˆæ˜¯ï¼š${currentQuestion.category === 'good' ? 'é©åˆé£Ÿç”¨' : 'éœ€è¦é™åˆ¶'}ã€‚${currentQuestion.explanation}`;
        
        // æ·»åŠ æè¿°å’Œç‡Ÿé¤Šæˆåˆ†åˆ°å›é¥‹ä¸­
        feedbackDescriptionElement.textContent = currentQuestion.description;
        
        // ä½¿ç”¨ç›´æ¥HTMLè¨­ç½®ç‡Ÿé¤Šæˆåˆ†ï¼Œç¢ºä¿é¡¯ç¤º
        let nutrientsHTML = '';
        Object.entries(currentQuestion.nutrients).forEach(([nutrient, level]) => {
            nutrientsHTML += `<span class="feedback-nutrient">${nutrient}: ${level}</span>`;
        });
        feedbackNutrientsElement.innerHTML = nutrientsHTML;
        
        // ç¢ºä¿å›é¥‹å…ƒç´ é¡¯ç¤º
        answerFeedbackElement.style.display = 'block';
        answerFeedbackElement.style.opacity = '1';
        answerFeedbackElement.style.visibility = 'visible';
        
        // ç¢ºä¿ä¸‹ä¸€é¡ŒæŒ‰éˆ•é¡¯ç¤º
        nextQuestionBtn.style.display = 'flex';
    }

    // åˆ°ä¸‹ä¸€é¡Œ
    function nextQuestion() {
        // æ¸…é™¤æŒ‰éˆ•æ¨£å¼
        goodBtnElement.classList.remove('selected', 'correct', 'incorrect', 'not-selected');
        badBtnElement.classList.remove('selected', 'correct', 'incorrect', 'not-selected');
        
        // é‡ç½®ç‹€æ…‹æ¨™ç±¤ä¸¦ç¢ºä¿å¯è¦‹æ€§è¨­ç½®
        const goodStatusLabel = goodBtnElement.querySelector('.answer-status-label');
        const badStatusLabel = badBtnElement.querySelector('.answer-status-label');
        
        if (goodStatusLabel) {
            goodStatusLabel.textContent = '';
            goodStatusLabel.style.visibility = 'hidden';
            goodStatusLabel.style.opacity = '0';
        }
        
        if (badStatusLabel) {
            badStatusLabel.textContent = '';
            badStatusLabel.style.visibility = 'hidden';
            badStatusLabel.style.opacity = '0';
        }
        
        // éš±è—å›é¥‹
        answerFeedbackElement.style.display = 'none';
        
        // éš±è—ä¸‹ä¸€é¡ŒæŒ‰éˆ•
        nextQuestionBtn.style.display = 'none';
        
        gameState.currentQuestionIndex++;
        
        if (gameState.currentQuestionIndex < gameState.questions.length) {
            displayQuestion();
        } else {
            endGame();
        }
    }

    // å•Ÿç”¨ç­”æ¡ˆæŒ‰éˆ•
    function enableAnswerButtons() {
        goodBtnElement.style.pointerEvents = 'auto';
        badBtnElement.style.pointerEvents = 'auto';
        goodBtnElement.style.opacity = '1';
        badBtnElement.style.opacity = '1';
    }

    // ç¦ç”¨ç­”æ¡ˆæŒ‰éˆ•
    function disableAnswerButtons() {
        goodBtnElement.style.pointerEvents = 'none';
        badBtnElement.style.pointerEvents = 'none';
        goodBtnElement.style.opacity = '0.7';
        badBtnElement.style.opacity = '0.7';
    }

    // çµæŸéŠæˆ²
    function endGame() {
        clearInterval(gameState.timerInterval);
        gameState.gameActive = false;
        
        // è¨ˆç®—æ­£ç¢ºç­”æ¡ˆæ•¸é‡
        const correctAnswers = gameState.answers.filter(answer => answer.isCorrect).length;
        
        // é¡¯ç¤ºçµæœ
        showResults(correctAnswers, gameState.answers.length);
    }

    // é¡¯ç¤ºçµæœ
    function showResults(correctCount, totalCount) {
        const percentage = (correctCount / totalCount) * 100;
        
        // æ ¹æ“šå¾—åˆ†è¨­ç½®ä¸åŒæ¶ˆæ¯
        if (percentage >= 80) {
            resultIcon.className = 'result-icon success';
            resultIcon.innerHTML = '<i class="fas fa-trophy"></i>';
            resultIcon.style.backgroundColor = 'rgba(0, 122, 255, 0.2)';
            resultIcon.style.color = 'var(--ios-primary)';
            resultTitle.textContent = 'åšå¾—å¥½ï¼';
            resultMessage.textContent = 'æ‚¨å¾ˆäº†è§£è…è‡Ÿå‹å–„é£Ÿç‰©ï¼';
            earnedPointsElement.textContent = `+${Math.round(gameState.score * 1.5)}`;
        } else if (percentage >= 60) {
            resultIcon.className = 'result-icon success';
            resultIcon.innerHTML = '<i class="fas fa-star"></i>';
            resultIcon.style.backgroundColor = 'rgba(0, 122, 255, 0.2)';
            resultIcon.style.color = 'var(--ios-primary)';
            resultTitle.textContent = 'ä¸éŒ¯ï¼';
            resultMessage.textContent = 'æ‚¨å°è…è‡Ÿé£²é£Ÿæœ‰ä¸€å®šäº†è§£ã€‚';
            earnedPointsElement.textContent = `+${gameState.score}`;
        } else {
            resultIcon.className = 'result-icon error';
            resultIcon.innerHTML = '<i class="fas fa-exclamation-circle"></i>';
            resultIcon.style.backgroundColor = 'rgba(255, 204, 0, 0.2)';
            resultIcon.style.color = 'var(--ios-warning)';
            resultTitle.textContent = 'éœ€è¦åŠ å¼·';
            resultMessage.textContent = 'æ‚¨éœ€è¦æ›´å¤šäº†è§£è…è‡Ÿé£²é£ŸçŸ¥è­˜ã€‚';
            earnedPointsElement.textContent = `+${Math.round(gameState.score * 0.5)}`;
        }
        
        // æ›´æ–°çµæœè©³æƒ…
        resultScore.textContent = gameState.score;
        correctCountElement.textContent = `${correctCount}/${totalCount}`;
        correctCountElement.style.color = 'var(--ios-primary)';
        usedTimeElement.textContent = 'å·²å®Œæˆ';
        
        // é¡¯ç¤ºå½ˆçª—
        resultModal.classList.add('active');
    }

    // æ›´æ–°ç‹€æ…‹æ¬„æ™‚é–“
    function updateStatusTime() {
        const now = new Date();
        let hours = now.getHours();
        let minutes = now.getMinutes();
        minutes = minutes < 10 ? '0' + minutes : minutes;
        statusTimeElement.textContent = hours + ':' + minutes;
    }

    // æ‰“äº‚æ•¸çµ„
    function shuffleArray(array) {
        const newArray = [...array];
        for (let i = newArray.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
        }
        return newArray;
    }

    // äº‹ä»¶ç›£è½å™¨
    document.addEventListener('DOMContentLoaded', () => {
        // ä¿®æ”¹æŒ‰éˆ•åœ–æ¨™ï¼Œä½¿ç”¨ä¸­æ€§åœ–æ¨™ä»£è¡¨é¸é …é¡å‹
        const goodIcon = goodBtnElement.querySelector('.answer-icon i');
        const badIcon = badBtnElement.querySelector('.answer-icon i');
        
        if (goodIcon) {
            goodIcon.className = 'fas fa-utensils'; // ä½¿ç”¨é¤å…·åœ–æ¨™è¡¨ç¤ºã€Œé©åˆé£Ÿç”¨ã€
        }
        
        if (badIcon) {
            badIcon.className = 'fas fa-ban'; // ä½¿ç”¨ç¦æ­¢åœ–æ¨™è¡¨ç¤ºã€Œéœ€è¦é™åˆ¶ã€
        }
        
        // æ·»åŠ çµæœæ¨™è¨˜åˆ°ç­”æ¡ˆæŒ‰éˆ•
        if (!goodBtnElement.querySelector('.answer-result-mark')) {
            goodBtnElement.innerHTML += '<div class="answer-result-mark"><i class="fas fa-check"></i></div>';
        }
        
        if (!badBtnElement.querySelector('.answer-result-mark')) {
            badBtnElement.innerHTML += '<div class="answer-result-mark"><i class="fas fa-times"></i></div>';
        }
        
        // ä¿®æ”¹ç­”æ¡ˆç‹€æ…‹æ¨™ç±¤çš„é¡è‰²
        const goodStatusLabel = goodBtnElement.querySelector('.answer-status-label');
        const badStatusLabel = badBtnElement.querySelector('.answer-status-label');
        
        if (goodStatusLabel) {
            goodStatusLabel.style.color = 'var(--ios-success)';
            goodStatusLabel.textContent = '';
        }
        
        if (badStatusLabel) {
            badStatusLabel.style.color = 'var(--ios-error)';
            badStatusLabel.textContent = '';
        }
        
        // æ·»åŠ ä¸‹ä¸€é¡ŒæŒ‰éˆ•çš„äº‹ä»¶ç›£è½å™¨
        nextQuestionBtn.addEventListener('click', nextQuestion);
        
        // ç­”æ¡ˆæŒ‰éˆ•çš„äº‹ä»¶ç›£è½å™¨
        goodBtnElement.addEventListener('click', () => handleAnswer('good'));
        badBtnElement.addEventListener('click', () => handleAnswer('bad'));
        
        // èªªæ˜å½ˆçª—é–‹å§‹æŒ‰éˆ•
        document.getElementById('startGameBtn').addEventListener('click', () => {
            document.getElementById('instructionModal').style.display = 'none';
            initGame();
        });
        
        // çµæœæŒ‰éˆ•
        backBtn.addEventListener('click', () => {
            resultModal.classList.remove('active');
            window.location.href = 'game-mode.html';
        });
        
        nextBtn.addEventListener('click', () => {
            resultModal.classList.remove('active');
            initGame(); // é‡æ–°é–‹å§‹éŠæˆ²
        });
        
        // å»£å‘ŠæŒ‰éˆ•é»æ“Šäº‹ä»¶
        const adButton = document.getElementById('adButton');
        if (adButton) {
            adButton.addEventListener('click', function(e) {
                e.preventDefault();
                
                // é¡¯ç¤ºå»£å‘Šé»æ“Šæ•ˆæœ
                this.classList.add('clicked');
                
                // æ¨¡æ“¬è¨˜éŒ„å»£å‘Šé»æ“Š
                console.log('å»£å‘Šé»æ“Šå·²è¨˜éŒ„');
                
                // é¡¯ç¤ºçå‹µç²å–æç¤º
                showAdRewardToast();
                
                // æä¾›é¡å¤–çå‹µåˆ†æ•¸
                addAdRewardPoints(25);
                
                // å»¶é²å¾Œæ¢å¾©æŒ‰éˆ•æ¨£å¼
                setTimeout(() => {
                    this.classList.remove('clicked');
                }, 200);
            });
        }
        
        // æ›´æ–°ç‹€æ…‹æ¬„æ™‚é–“
        updateStatusTime();
        setInterval(updateStatusTime, 60000); // æ¯åˆ†é˜æ›´æ–°ä¸€æ¬¡
        
        // åˆå§‹é¡¯ç¤ºéŠæˆ²èªªæ˜
        showInstructions();
    });
    
    // é¡¯ç¤ºéŠæˆ²èªªæ˜
    function showInstructions() {
        document.getElementById('instructionModal').style.display = 'flex';
    }
    
    // é¡¯ç¤ºå»£å‘Šçå‹µæç¤º
    function showAdRewardToast() {
        // å‰µå»ºæç¤ºå…ƒç´ 
        const toast = document.createElement('div');
        toast.className = 'ad-reward-toast';
        toast.innerHTML = `
            <div class="toast-icon">
                <i class="fas fa-gift"></i>
            </div>
            <div class="toast-content">
                <div class="toast-title">ç²å¾—å»£å‘Šçå‹µ!</div>
                <div class="toast-message">+25 ç©åˆ†å·²æ·»åŠ åˆ°æ‚¨çš„å¸³æˆ¶</div>
            </div>
        `;
        
        // æ·»åŠ åˆ°é é¢
        document.body.appendChild(toast);
        
        // å‹•ç•«é¡¯ç¤º
        setTimeout(() => {
            toast.classList.add('show');
        }, 100);
        
        // å®šæ™‚ç§»é™¤
        setTimeout(() => {
            toast.classList.remove('show');
            setTimeout(() => {
                document.body.removeChild(toast);
            }, 300);
        }, 3000);
    }
    
    // æ·»åŠ å»£å‘Šçå‹µç©åˆ†
    function addAdRewardPoints(points) {
        // åœ¨é€™è£¡æ·»åŠ ç©åˆ†åˆ°ç”¨æˆ¶å¸³æˆ¶çš„é‚è¼¯
        // é€™è£¡åªæ˜¯ç°¡å–®åœ°æ›´æ–°ç•¶å‰éŠæˆ²åˆ†æ•¸
        gameState.score += points;
        scoreElement.textContent = gameState.score;
        
        // åœ¨é€™å€‹ç¤ºä¾‹ä¸­åƒ…é¡¯ç¤ºæ•ˆæœï¼Œå¯¦éš›æ‡‰ç”¨ä¸­æ‡‰è©²æ›´æ–°ç”¨æˆ¶ç¸½ç©åˆ†
    }

    // æ’­æ”¾åé¥‹éŸ³æ•ˆ
    function playFeedbackSound(type) {
        // æœªä¾†å¯ä»¥æ·»åŠ å¯¦éš›çš„éŸ³æ•ˆæ’­æ”¾åŠŸèƒ½
        console.log(`æ’­æ”¾${type}éŸ³æ•ˆ`);
    }
    
    // é¡¯ç¤ºåˆ†æ•¸å‹•ç•«
    function showScoreAnimation(points) {
        // å‰µå»ºåˆ†æ•¸å‹•ç•«å…ƒç´ 
        const scoreAnim = document.createElement('div');
        scoreAnim.className = 'score-animation';
        scoreAnim.textContent = `+${points}`;
        
        // æ·»åŠ åˆ°é é¢
        document.querySelector('.game-container').appendChild(scoreAnim);
        
        // å‹•ç•«å®Œæˆå¾Œç§»é™¤
        setTimeout(() => {
            scoreAnim.remove();
        }, 1500);
    }

    // é‡ç½®éŠæˆ²
    function resetGame() {
        // é‡ç½®éŠæˆ²ç‹€æ…‹
        gameState.currentQuestionIndex = 0;
        gameState.score = 0;
        gameState.answers = [];
        gameState.timeLeft = 15;
        
        // æ›´æ–°UI
        scoreElement.textContent = gameState.score;
        currentQuestionElement.textContent = gameState.currentQuestionIndex + 1;
        questionNumberElement.textContent = gameState.currentQuestionIndex + 1;
        
        // é‡ç½®æŒ‰éˆ•æ¨£å¼
        goodBtnElement.classList.remove('selected', 'correct', 'incorrect', 'not-selected');
        badBtnElement.classList.remove('selected', 'correct', 'incorrect', 'not-selected');
        
        // é‡ç½®ç­”æ¡ˆæ¨™ç±¤å…§å®¹å’Œå¯è¦‹æ€§
        const goodStatusLabel = goodBtnElement.querySelector('.answer-status-label');
        const badStatusLabel = badBtnElement.querySelector('.answer-status-label');
        
        if (goodStatusLabel) {
            goodStatusLabel.textContent = '';
            goodStatusLabel.style.visibility = 'hidden';
            goodStatusLabel.style.opacity = '0';
        }
        
        if (badStatusLabel) {
            badStatusLabel.textContent = '';
            badStatusLabel.style.visibility = 'hidden';
            badStatusLabel.style.opacity = '0';
        }
        
        // éš±è—å›é¥‹
        answerFeedbackElement.style.display = 'none';
        
        // å•Ÿç”¨æŒ‰éˆ•
        enableAnswerButtons();
        
        // åŠ è¼‰ç¬¬ä¸€é¡Œ
        loadQuestion(gameState.currentQuestionIndex);
    }
</script>
</html> 