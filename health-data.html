<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="color-scheme" content="light">
    <title>è…å¥½åº· - å¥åº·æ•¸æ“š</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/additional-styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        .health-data-container {
            padding: 20px;
            padding-bottom: 100px;
        }
        
        .page-header {
            margin-bottom: 24px;
        }
        
        .page-title {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 10px;
            color: var(--ios-text-primary);
        }
        
        .page-subtitle {
            font-size: 16px;
            color: var(--ios-text-secondary);
            line-height: 1.4;
        }
        
        .visual-aid-tools {
            display: flex;
            justify-content: flex-end;
            margin-bottom: 16px;
        }
        
        .visual-aid-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 44px;
            height: 44px;
            border-radius: 22px;
            background-color: var(--ios-gray6);
            color: var(--ios-text-primary);
            margin-left: 10px;
            font-size: 20px;
        }
        
        .data-card {
            background-color: white;
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 24px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        }
        
        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .card-title {
            font-size: 22px;
            font-weight: 600;
            color: var(--ios-text-primary);
            display: flex;
            align-items: center;
        }
        
        .card-title i {
            margin-right: 12px;
            color: var(--ios-primary);
            font-size: 22px;
        }
        
        .add-btn {
            display: flex;
            align-items: center;
            padding: 8px 16px;
            background-color: var(--ios-primary-light);
            color: var(--ios-primary);
            border-radius: 20px;
            font-size: 16px;
            font-weight: 600;
        }
        
        .add-btn i {
            margin-right: 6px;
        }
        
        .input-group {
            margin-bottom: 16px;
        }
        
        .input-label {
            font-size: 16px;
            font-weight: 500;
            margin-bottom: 8px;
            color: var(--ios-text-primary);
        }
        
        .input-field {
            width: 100%;
            padding: 14px 16px;
            font-size: 16px;
            border: 1px solid var(--ios-gray5);
            border-radius: 12px;
            background-color: var(--ios-gray6);
            color: var(--ios-text-primary);
            margin-bottom: 8px;
        }
        
        .input-field:focus {
            outline: none;
            border-color: var(--ios-primary);
            box-shadow: 0 0 0 3px rgba(0, 122, 255, 0.1);
        }
        
        .input-hint {
            font-size: 14px;
            color: var(--ios-text-tertiary);
        }
        
        .dual-input {
            display: flex;
            gap: 12px;
        }
        
        .dual-input .input-group {
            flex: 1;
        }
        
        .save-btn {
            width: 100%;
            padding: 16px;
            font-size: 18px;
            font-weight: 600;
            color: white;
            background-color: var(--ios-primary);
            border: none;
            border-radius: 12px;
            margin-top: 16px;
        }
        
        .data-history {
            margin-top: 20px;
        }
        
        .history-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 16px;
            color: var(--ios-text-primary);
        }
        
        .history-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .history-table th {
            padding: 12px 8px;
            font-size: 16px;
            text-align: left;
            border-bottom: 2px solid var(--ios-gray5);
            color: var(--ios-text-secondary);
            font-weight: 600;
        }
        
        .history-table td {
            padding: 14px 8px;
            font-size: 16px;
            border-bottom: 1px solid var(--ios-gray6);
            color: var(--ios-text-primary);
        }
        
        .chart-container {
            margin-top: 20px;
            height: 250px;
            position: relative;
        }
        
        .chart-placeholder {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: var(--ios-gray6);
            border-radius: 12px;
            color: var(--ios-text-secondary);
            font-style: italic;
        }
        
        .tab-container {
            display: flex;
            margin-bottom: 20px;
            background-color: var(--ios-gray6);
            border-radius: 12px;
            padding: 4px;
        }
        
        .tab-item {
            flex: 1;
            text-align: center;
            padding: 12px;
            font-size: 16px;
            font-weight: 500;
            color: var(--ios-text-secondary);
            border-radius: 10px;
        }
        
        .tab-item.active {
            background-color: white;
            color: var(--ios-primary);
            font-weight: 600;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
    </style>
</head>
<body>
    <div class="iphone-container">
        <!-- ç‹€æ…‹æ¬„ -->
        <div class="status-bar">
            <div id="status-time" class="status-time">9:41</div>
            <div class="status-icons">
                <div class="status-icon">ğŸ“¶</div>
                <div class="status-icon">ğŸ“Š</div>
                <div class="status-icon">ğŸ”‹</div>
            </div>
        </div>
        
        <!-- å°èˆªæ¬„ -->
        <div class="nav-bar">
            <div class="nav-back" onclick="history.back()">è¿”å›</div>
            <div class="nav-title">å¥åº·æ•¸æ“š</div>
            <div></div>
        </div>
        
        <!-- æ»¾å‹•å…§å®¹å€ -->
        <div class="content-container">
            <div class="health-data-container">
                <!-- è¦–åŠ›è¼”åŠ©å·¥å…· -->
                <div class="visual-aid-tools">
                    <div class="visual-aid-btn" id="increase-text">
                        <i class="fas fa-text-height"></i>
                    </div>
                    <div class="visual-aid-btn" id="high-contrast">
                        <i class="fas fa-adjust"></i>
                    </div>
                </div>
                
                <div class="page-header">
                    <div class="page-title">å¥åº·æ•¸æ“š</div>
                    <p class="page-subtitle">è¨˜éŒ„ä¸¦è¿½è¹¤æ‚¨çš„å¥åº·æŒ‡æ¨™ï¼Œå¹«åŠ©æ‚¨æ›´å¥½åœ°ç®¡ç†è…è‡Ÿå¥åº·</p>
                </div>
                
                <div class="tab-container">
                    <div class="tab-item active" data-tab="vitals">ç”Ÿç†æŒ‡æ¨™</div>
                    <div class="tab-item" data-tab="blood">è¡€æ¶²æª¢æ¸¬</div>
                    <div class="tab-item" data-tab="dialysis">é€ææ•¸æ“š</div>
                </div>
                
                <!-- ç”Ÿç†æŒ‡æ¨™é ç±¤ -->
                <div id="vitals-tab" class="tab-content active">
                    <div class="data-card">
                        <div class="card-header">
                            <div class="card-title">
                                <i class="fas fa-heartbeat"></i>
                                è¨˜éŒ„ç”Ÿç†æŒ‡æ¨™
                            </div>
                            <div class="add-btn" id="add-vitals-btn">
                                <i class="fas fa-plus"></i> æ–°å¢
                            </div>
                        </div>
                        
                        <form id="vitals-form">
                            <div class="dual-input">
                                <div class="input-group">
                                    <div class="input-label">æ”¶ç¸®å£“ (mmHg)</div>
                                    <input type="number" class="input-field" id="systolic" placeholder="ä¾‹å¦‚ï¼š120">
                                </div>
                                <div class="input-group">
                                    <div class="input-label">èˆ’å¼µå£“ (mmHg)</div>
                                    <input type="number" class="input-field" id="diastolic" placeholder="ä¾‹å¦‚ï¼š80">
                                </div>
                            </div>
                            
                            <div class="dual-input">
                                <div class="input-group">
                                    <div class="input-label">å¿ƒç‡ (bpm)</div>
                                    <input type="number" class="input-field" id="heart-rate" placeholder="ä¾‹å¦‚ï¼š75">
                                </div>
                                <div class="input-group">
                                    <div class="input-label">é«”é‡ (kg)</div>
                                    <input type="number" step="0.1" class="input-field" id="weight" placeholder="ä¾‹å¦‚ï¼š70.5">
                                </div>
                            </div>
                            
                            <div class="input-group">
                                <div class="input-label">æ—¥æœŸå’Œæ™‚é–“</div>
                                <input type="datetime-local" class="input-field" id="vitals-datetime">
                                <div class="input-hint">è‹¥æœªå¡«å¯«ï¼Œé è¨­ä½¿ç”¨ç•¶å‰æ™‚é–“</div>
                            </div>
                            
                            <button type="button" class="save-btn" id="save-vitals-btn">å„²å­˜è³‡æ–™</button>
                        </form>
                        
                        <div class="data-history">
                            <div class="history-title">æ­·å²è¨˜éŒ„</div>
                            <div class="chart-container">
                                <div class="chart-placeholder">
                                    è¡€å£“è¶¨å‹¢åœ– (æ­¤è™•ç‚ºç¤ºæ„ï¼Œå¯¦éš›æ‡‰ç”¨å°‡é¡¯ç¤ºåœ–è¡¨)
                                </div>
                            </div>
                            <table class="history-table">
                                <thead>
                                    <tr>
                                        <th>æ—¥æœŸ</th>
                                        <th>è¡€å£“</th>
                                        <th>å¿ƒç‡</th>
                                        <th>é«”é‡</th>
                                    </tr>
                                </thead>
                                <tbody id="vitals-history">
                                    <tr>
                                        <td>2023/03/25 08:30</td>
                                        <td>125/85 mmHg</td>
                                        <td>78 bpm</td>
                                        <td>79.2 kg</td>
                                    </tr>
                                    <tr>
                                        <td>2023/03/24 08:15</td>
                                        <td>130/82 mmHg</td>
                                        <td>75 bpm</td>
                                        <td>79.4 kg</td>
                                    </tr>
                                    <tr>
                                        <td>2023/03/23 08:45</td>
                                        <td>128/80 mmHg</td>
                                        <td>82 bpm</td>
                                        <td>79.8 kg</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                
                <!-- è¡€æ¶²æª¢æ¸¬é ç±¤ -->
                <div id="blood-tab" class="tab-content">
                    <div class="data-card">
                        <div class="card-header">
                            <div class="card-title">
                                <i class="fas fa-vial"></i>
                                è¡€æ¶²æª¢æ¸¬æ•¸æ“š
                            </div>
                            <div class="add-btn" id="add-blood-btn">
                                <i class="fas fa-plus"></i> æ–°å¢
                            </div>
                        </div>
                        
                        <form id="blood-form">
                            <div class="dual-input">
                                <div class="input-group">
                                    <div class="input-label">è¡€é‰€ (mEq/L)</div>
                                    <input type="number" step="0.1" class="input-field" id="potassium" placeholder="ä¾‹å¦‚ï¼š4.5">
                                </div>
                                <div class="input-group">
                                    <div class="input-label">è¡€ç£· (mg/dL)</div>
                                    <input type="number" step="0.1" class="input-field" id="phosphorus" placeholder="ä¾‹å¦‚ï¼š4.0">
                                </div>
                            </div>
                            
                            <div class="dual-input">
                                <div class="input-group">
                                    <div class="input-label">è¡€éˆ£ (mg/dL)</div>
                                    <input type="number" step="0.1" class="input-field" id="calcium" placeholder="ä¾‹å¦‚ï¼š9.5">
                                </div>
                                <div class="input-group">
                                    <div class="input-label">è¡€ç´…è›‹ç™½ (g/dL)</div>
                                    <input type="number" step="0.1" class="input-field" id="hemoglobin" placeholder="ä¾‹å¦‚ï¼š11.0">
                                </div>
                            </div>
                            
                            <div class="input-group">
                                <div class="input-label">æ—¥æœŸ</div>
                                <input type="date" class="input-field" id="blood-date">
                                <div class="input-hint">è«‹è¼¸å…¥è¡€æ¶²æª¢æ¸¬çš„æ—¥æœŸ</div>
                            </div>
                            
                            <button type="button" class="save-btn" id="save-blood-btn">å„²å­˜æ•¸æ“š</button>
                        </form>
                        
                        <div class="data-history">
                            <div class="history-title">æ­·å²è¨˜éŒ„</div>
                            <div class="chart-container">
                                <div class="chart-placeholder">
                                    è¡€æ¶²æ•¸å€¼è¶¨å‹¢åœ– (æ­¤è™•ç‚ºç¤ºæ„ï¼Œå¯¦éš›æ‡‰ç”¨å°‡é¡¯ç¤ºåœ–è¡¨)
                                </div>
                            </div>
                            <table class="history-table">
                                <thead>
                                    <tr>
                                        <th>æ—¥æœŸ</th>
                                        <th>è¡€é‰€</th>
                                        <th>è¡€ç£·</th>
                                        <th>è¡€éˆ£</th>
                                        <th>è¡€ç´…è›‹ç™½</th>
                                    </tr>
                                </thead>
                                <tbody id="blood-history">
                                    <tr>
                                        <td>2023/03/20</td>
                                        <td>5.8 mEq/L</td>
                                        <td>4.2 mg/dL</td>
                                        <td>9.4 mg/dL</td>
                                        <td>10.8 g/dL</td>
                                    </tr>
                                    <tr>
                                        <td>2023/02/20</td>
                                        <td>5.5 mEq/L</td>
                                        <td>4.5 mg/dL</td>
                                        <td>9.2 mg/dL</td>
                                        <td>11.0 g/dL</td>
                                    </tr>
                                    <tr>
                                        <td>2023/01/20</td>
                                        <td>5.3 mEq/L</td>
                                        <td>4.8 mg/dL</td>
                                        <td>9.5 mg/dL</td>
                                        <td>10.5 g/dL</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                
                <!-- é€ææ•¸æ“šé ç±¤ -->
                <div id="dialysis-tab" class="tab-content">
                    <div class="data-card">
                        <div class="card-header">
                            <div class="card-title">
                                <i class="fas fa-clipboard-list"></i>
                                é€ææ²»ç™‚æ•¸æ“š
                            </div>
                            <div class="add-btn" id="add-dialysis-btn">
                                <i class="fas fa-plus"></i> æ–°å¢
                            </div>
                        </div>
                        
                        <form id="dialysis-form">
                            <div class="dual-input">
                                <div class="input-group">
                                    <div class="input-label">é€æå‰é«”é‡ (kg)</div>
                                    <input type="number" step="0.1" class="input-field" id="pre-weight" placeholder="ä¾‹å¦‚ï¼š81.5">
                                </div>
                                <div class="input-group">
                                    <div class="input-label">é€æå¾Œé«”é‡ (kg)</div>
                                    <input type="number" step="0.1" class="input-field" id="post-weight" placeholder="ä¾‹å¦‚ï¼š79.0">
                                </div>
                            </div>
                            
                            <div class="dual-input">
                                <div class="input-group">
                                    <div class="input-label">é€ææ™‚é–“ (å°æ™‚)</div>
                                    <input type="number" step="0.5" class="input-field" id="dialysis-time" placeholder="ä¾‹å¦‚ï¼š4.0">
                                </div>
                                <div class="input-group">
                                    <div class="input-label">è¶…æ¿¾é‡ (L)</div>
                                    <input type="number" step="0.1" class="input-field" id="uf-volume" placeholder="ä¾‹å¦‚ï¼š2.5">
                                </div>
                            </div>
                            
                            <div class="input-group">
                                <div class="input-label">é€ææ—¥æœŸ</div>
                                <input type="date" class="input-field" id="dialysis-date">
                                <div class="input-hint">è«‹è¼¸å…¥é€ææ²»ç™‚çš„æ—¥æœŸ</div>
                            </div>
                            
                            <div class="input-group">
                                <div class="input-label">å‚™è¨»</div>
                                <textarea class="input-field" id="dialysis-notes" rows="3" placeholder="ä¾‹å¦‚ï¼šä»Šæ—¥æ„Ÿè¦ºè‰¯å¥½ï¼Œç„¡ç‰¹æ®Šä¸é©"></textarea>
                            </div>
                            
                            <button type="button" class="save-btn" id="save-dialysis-btn">å„²å­˜æ•¸æ“š</button>
                        </form>
                        
                        <div class="data-history">
                            <div class="history-title">æ­·å²è¨˜éŒ„</div>
                            <div class="chart-container">
                                <div class="chart-placeholder">
                                    é«”é‡è®ŠåŒ–è¶¨å‹¢åœ– (æ­¤è™•ç‚ºç¤ºæ„ï¼Œå¯¦éš›æ‡‰ç”¨å°‡é¡¯ç¤ºåœ–è¡¨)
                                </div>
                            </div>
                            <table class="history-table">
                                <thead>
                                    <tr>
                                        <th>æ—¥æœŸ</th>
                                        <th>é€æå‰é«”é‡</th>
                                        <th>é€æå¾Œé«”é‡</th>
                                        <th>è¶…æ¿¾é‡</th>
                                        <th>æ™‚é–“</th>
                                    </tr>
                                </thead>
                                <tbody id="dialysis-history">
                                    <tr>
                                        <td>2023/03/25</td>
                                        <td>81.3 kg</td>
                                        <td>79.2 kg</td>
                                        <td>2.1 L</td>
                                        <td>4.0 å°æ™‚</td>
                                    </tr>
                                    <tr>
                                        <td>2023/03/23</td>
                                        <td>81.2 kg</td>
                                        <td>79.4 kg</td>
                                        <td>1.8 L</td>
                                        <td>4.0 å°æ™‚</td>
                                    </tr>
                                    <tr>
                                        <td>2023/03/21</td>
                                        <td>82.1 kg</td>
                                        <td>79.8 kg</td>
                                        <td>2.3 L</td>
                                        <td>4.0 å°æ™‚</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- åº•éƒ¨æ¨™ç±¤æ¬„ -->
        <div class="tab-bar">
            <a href="main.html" class="tab-item">
                <i class="fas fa-home"></i>
                <span>é¦–é </span>
            </a>
            <a href="quiz-selector.html" class="tab-item">
                <i class="fas fa-gamepad"></i>
                <span>éŠæˆ²</span>
            </a>
            <a href="learning-resources.html" class="tab-item">
                <i class="fas fa-book-open"></i>
                <span>å­¸ç¿’</span>
            </a>
            <a href="dialysis-schedule.html" class="tab-item">
                <i class="fas fa-calendar-alt"></i>
                <span>æ’ç¨‹</span>
            </a>
        </div>
    </div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/js/all.min.js"></script>
    <script>
        // æ›´æ–°ç‹€æ…‹æ¬„æ™‚é–“
        function updateStatusBarTime() {
            const now = new Date();
            const hours = now.getHours().toString().padStart(2, '0');
            const minutes = now.getMinutes().toString().padStart(2, '0');
            document.getElementById('status-time').textContent = `${hours}:${minutes}`;
        }
        
        // é ç±¤åˆ‡æ›åŠŸèƒ½
        function setupTabs() {
            const tabs = document.querySelectorAll('.tab-item');
            const tabContents = document.querySelectorAll('.tab-content');
            
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    const targetTab = tab.dataset.tab;
                    
                    // ç§»é™¤æ‰€æœ‰ active é¡
                    tabs.forEach(t => t.classList.remove('active'));
                    tabContents.forEach(c => c.classList.remove('active'));
                    
                    // æ·»åŠ  active é¡åˆ°ç•¶å‰é¸ä¸­çš„é ç±¤
                    tab.classList.add('active');
                    document.getElementById(`${targetTab}-tab`).classList.add('active');
                });
            });
        }
        
        // æ•¸æ“šä¿å­˜åŠŸèƒ½
        function setupFormHandlers() {
            // ç”Ÿç†æŒ‡æ¨™è¡¨å–®
            document.getElementById('save-vitals-btn').addEventListener('click', function() {
                const systolic = document.getElementById('systolic').value;
                const diastolic = document.getElementById('diastolic').value;
                const heartRate = document.getElementById('heart-rate').value;
                const weight = document.getElementById('weight').value;
                const datetime = document.getElementById('vitals-datetime').value || new Date().toISOString();
                
                // ç°¡å–®é©—è­‰
                if (!systolic || !diastolic || !heartRate || !weight) {
                    alert('è«‹å¡«å¯«æ‰€æœ‰å¿…å¡«æ¬„ä½');
                    return;
                }
                
                // æ¨¡æ“¬æ•¸æ“šä¿å­˜ (å¯¦éš›æ‡‰ç”¨ä¸­æ‡‰ä¿å­˜åˆ°è³‡æ–™åº«)
                alert('ç”Ÿç†æŒ‡æ¨™æ•¸æ“šå·²å„²å­˜ï¼');
                
                // æ¸…ç©ºè¡¨å–®
                document.getElementById('vitals-form').reset();
                
                // åœ¨è¡¨æ ¼ä¸­æ·»åŠ æ–°è¨˜éŒ„ (æ¨¡æ“¬)
                const formattedDate = new Date(datetime).toLocaleString('zh-TW', {
                    year: 'numeric',
                    month: '2-digit',
                    day: '2-digit',
                    hour: '2-digit',
                    minute: '2-digit'
                });
                
                const newRow = `
                    <tr>
                        <td>${formattedDate}</td>
                        <td>${systolic}/${diastolic} mmHg</td>
                        <td>${heartRate} bpm</td>
                        <td>${weight} kg</td>
                    </tr>
                `;
                
                document.getElementById('vitals-history').innerHTML = newRow + document.getElementById('vitals-history').innerHTML;
            });
            
            // è¡€æ¶²æª¢æ¸¬è¡¨å–®
            document.getElementById('save-blood-btn').addEventListener('click', function() {
                const potassium = document.getElementById('potassium').value;
                const phosphorus = document.getElementById('phosphorus').value;
                const calcium = document.getElementById('calcium').value;
                const hemoglobin = document.getElementById('hemoglobin').value;
                const date = document.getElementById('blood-date').value || new Date().toISOString().split('T')[0];
                
                // ç°¡å–®é©—è­‰
                if (!potassium || !phosphorus || !calcium || !hemoglobin || !date) {
                    alert('è«‹å¡«å¯«æ‰€æœ‰å¿…å¡«æ¬„ä½');
                    return;
                }
                
                // æ¨¡æ“¬æ•¸æ“šä¿å­˜
                alert('è¡€æ¶²æª¢æ¸¬æ•¸æ“šå·²å„²å­˜ï¼');
                
                // æ¸…ç©ºè¡¨å–®
                document.getElementById('blood-form').reset();
                
                // åœ¨è¡¨æ ¼ä¸­æ·»åŠ æ–°è¨˜éŒ„ (æ¨¡æ“¬)
                const formattedDate = new Date(date).toLocaleDateString('zh-TW');
                
                const newRow = `
                    <tr>
                        <td>${formattedDate}</td>
                        <td>${potassium} mEq/L</td>
                        <td>${phosphorus} mg/dL</td>
                        <td>${calcium} mg/dL</td>
                        <td>${hemoglobin} g/dL</td>
                    </tr>
                `;
                
                document.getElementById('blood-history').innerHTML = newRow + document.getElementById('blood-history').innerHTML;
            });
            
            // é€ææ•¸æ“šè¡¨å–®
            document.getElementById('save-dialysis-btn').addEventListener('click', function() {
                const preWeight = document.getElementById('pre-weight').value;
                const postWeight = document.getElementById('post-weight').value;
                const dialysisTime = document.getElementById('dialysis-time').value;
                const ufVolume = document.getElementById('uf-volume').value;
                const date = document.getElementById('dialysis-date').value || new Date().toISOString().split('T')[0];
                
                // ç°¡å–®é©—è­‰
                if (!preWeight || !postWeight || !dialysisTime || !date) {
                    alert('è«‹å¡«å¯«æ‰€æœ‰å¿…å¡«æ¬„ä½');
                    return;
                }
                
                // æ¨¡æ“¬æ•¸æ“šä¿å­˜
                alert('é€ææ²»ç™‚æ•¸æ“šå·²å„²å­˜ï¼');
                
                // æ¸…ç©ºè¡¨å–®
                document.getElementById('dialysis-form').reset();
                
                // åœ¨è¡¨æ ¼ä¸­æ·»åŠ æ–°è¨˜éŒ„ (æ¨¡æ“¬)
                const formattedDate = new Date(date).toLocaleDateString('zh-TW');
                const calculatedUf = ufVolume || (preWeight - postWeight).toFixed(1);
                
                const newRow = `
                    <tr>
                        <td>${formattedDate}</td>
                        <td>${preWeight} kg</td>
                        <td>${postWeight} kg</td>
                        <td>${calculatedUf} L</td>
                        <td>${dialysisTime} å°æ™‚</td>
                    </tr>
                `;
                
                document.getElementById('dialysis-history').innerHTML = newRow + document.getElementById('dialysis-history').innerHTML;
            });
        }
        
        // é é¢åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            // æ›´æ–°æ™‚é–“
            updateStatusBarTime();
            setInterval(updateStatusBarTime, 60000);
            
            // è¨­ç½®é ç±¤åŠŸèƒ½
            setupTabs();
            
            // è¨­ç½®è¡¨å–®è™•ç†ç¨‹åº
            setupFormHandlers();
            
            // å¢åŠ æ–‡å­—å¤§å°åŠŸèƒ½
            document.getElementById('increase-text').addEventListener('click', function() {
                document.body.classList.toggle('large-text');
                
                if (document.body.classList.contains('large-text')) {
                    document.documentElement.style.setProperty('--font-size-multiplier', '1.2');
                } else {
                    document.documentElement.style.setProperty('--font-size-multiplier', '1');
                }
            });
            
            // é«˜å°æ¯”åº¦æ¨¡å¼
            document.getElementById('high-contrast').addEventListener('click', function() {
                document.body.classList.toggle('high-contrast');
                
                if (document.body.classList.contains('high-contrast')) {
                    document.documentElement.style.setProperty('--ios-text-primary', '#000000');
                    document.documentElement.style.setProperty('--ios-text-secondary', '#222222');
                    document.documentElement.style.setProperty('--ios-primary', '#0056b3');
                    document.documentElement.style.setProperty('--ios-background', '#ffffff');
                } else {
                    document.documentElement.style.setProperty('--ios-text-primary', '');
                    document.documentElement.style.setProperty('--ios-text-secondary', '');
                    document.documentElement.style.setProperty('--ios-primary', '');
                    document.documentElement.style.setProperty('--ios-background', '');
                }
            });
        });
    </script>
</body>
</html> 